!function(t){function e(e){for(var r,o,s=e[0],u=e[1],c=e[2],l=0,h=[];l<s.length;l++)o=s[l],i[o]&&h.push(i[o][0]),i[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(p&&p(e);h.length;)h.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},i={0:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var p=u;a.push([138,1]),n()}({138:function(t,e,n){"use strict";n.r(e);n(76),n(82),n(84),n(86),n(87),n(88),n(93),n(94),n(97),n(98),n(99),n(100),n(110),n(111),n(113),n(115),n(116),n(65),n(118),n(120);var r,i=n(75),a=n.n(i),o={"普段会話":[{original:"なるほど",keywords:["なるほど"],restatements:["まさしく、おっしゃる通りです","確かにそうですね","いかにも、その通りです","○○さんの話はごもっともです"]},{original:"大丈夫です",keywords:["大丈夫"],restatements:["問題ありません","差し支えありません","子細に及びません","支障ありません","不都合ありません","お気持ちだけいただきます"]},{original:"お金がなくて",keywords:["金","費"],restatements:["今持ち合わせなくて","手元不如意で","金欠病で","糊口をしのいでおります","素寒貧"]},{original:"わかりません",keywords:["解る","判る","分る","分かる","わかる"],restatements:["勉強不足で申し訳ございません","寡聞にして存じ上げません","浅学非才の身でして"]},{original:"楽しみにお待ちしております",keywords:["待つ"],restatements:["首を長くしてお待ちしております","指折り数えております"]},{original:"うれしく思います",keywords:["嬉しい","うれしい"],restatements:["冥利に尽くします","恐悦至極に存じます","快哉を叫びました","点の配剤です"]},{original:"それでいいです",keywords:["賛成","いい"],restatements:["異存はございません","異論はありません","一日千秋の思いです","待ち焦がれます","手薬煉を引いて待ちます"]},{original:"大変だ",keywords:["大変","やばい"],restatements:["これは一大事だ","危ぶみ異論はありません","危惧される","都合が悪い","不具合があります"]},{original:"打っちゃけて言うと",keywords:["正直","ぶっちゃけ"],restatements:["率直に言うと","正味のところ","本音を言うと","単刀直入に言うと","ざっくばらんに言うと"]},{original:"教えてください",keywords:["教える"],restatements:["ご教示ください","お知恵を拝借できますか","ご高配のほどお願い申し上げます","後学のためにお伺いしたいのですが"]},{original:"上手ですね",keywords:["上手","うまい"],restatements:["お手の物ですね","右に出るものはない","非の打ちところがありません","一頭地抜いています"]}],"お願い":[{original:"どうぞよろしくお願い申し上げます",keywords:["よろしく"],restatements:["何卒よろしくお願い申し上げます","伏してお願いします","切にお願いします","是非ともお願いします","まげてお願いします"]}],"言い辛い":[{original:"絶対無理です",keywords:["無理"],restatements:["私には荷が勝ちます","ご容赦ください","ご寛恕いただきたくお願い申し上げます"]}],"口癖":[{original:"頑張ります",keywords:["頑張る"],restatements:["不退転の決意で臨みます","堅忍不抜の精神で精進します","不撓不屈で臨みます","全身全霊をささげる","最善を尽くします","鋭意努力します","手を尽くす"]},{original:"OKです",keywords:["了解"],restatements:["かしこまりました","受諾します","快諾します","聞き届けしました","承認します"]}],"打ち合わせ":[],"訪問/宴会/手紙":[]};function s(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var a=t.apply(e,n);function o(t){s(a,r,i,o,u,"next",t)}function u(t){s(a,r,i,o,u,"throw",t)}o(void 0)})}}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}new Vue({el:"#app",data:{inputTokens:null,cursorPosition:0,paraphrases:null,paraphraseTable:null,paraphrasesContainerStyle:null,activeSubMenuIndex:null,inputText:"",ready:!1},created:function(){var t=this;a.a.builder({dicPath:"public/dict"}).build(function(e,n){t.ready=!0,r=n}),document.addEventListener("keydown",this.onKeyDown)},beforeDestroy:function(){document.removeEventListener("keydown",this.onKeyDown)},watch:{inputText:function(t){this.analysis(),this.handleParaphraseBox()}},computed:{subMenuOptions:function(){return null==this.activeSubMenuIndex?null:o[Object.keys(o)[this.activeSubMenuIndex]].map(function(t){return t.keywords[0]})},activeParaphrases:function(){if(!this.paraphraseTable||!this.paraphraseTable[this.cursorPosition])return null;var t=0;return this.paraphraseTable[this.cursorPosition].map(function(e){return p({},e,{title:e.original,candidates:e.restatements.map(function(e){return{index:t++,text:e}})})})},activeRestatements:function(){if(!this.activeParaphrases)return null;var t=[];return this.activeParaphrases.forEach(function(e){return t=[].concat(c(t),c(e.restatements))}),t},dictionary:function(){return o},inputTextHeight:function(){var t=this.inputText.split("\n").length;return Math.max(364,26*t)+"px"},isPC:function(){return t=!1,e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),!t;var t,e}},methods:{onKeyDown:function(t){if(t.code.match(/^Arrow/))this.handleParaphraseBox();else if(t.altKey){var e=this.keyToNumber(t.code);if(void 0===e)return;t.preventDefault();var n=e-1;this.activeRestatements?this.applyRestatement(n):this.subMenuOptions?n===this.subMenuOptions.length?this.activeSubMenuIndex=null:this.applyKeyword(n):Object.keys(o)[n]&&(this.activeSubMenuIndex=n)}},applyKeyword:function(){var t=u(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.subMenuOptions[e]){t.next=2;break}return t.abrupt("return");case 2:return n=this.inputText.substr(0,this.cursorPosition),r=this.inputText.substr(this.cursorPosition),this.inputText="".concat(n).concat(this.subMenuOptions[e]).concat(r),this.activeSubMenuIndex=null,t.next=8,new Promise(function(t){return setTimeout(t)});case 8:this.$refs.textInput.focus(),this.$refs.textInput.selectionEnd=this.cursorPosition;case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),applyRestatement:function(){var t=u(regeneratorRuntime.mark(function t(e){var n,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.activeRestatements[e]){t.next=2;break}return t.abrupt("return");case 2:return n=this.activeParaphrases[0],r=this.inputText.substr(0,n.position+n.text.length),i=this.inputText.substr(n.position+n.text.length),this.inputText="".concat(r,"〔").concat(this.activeRestatements[e],"〕").concat(i),t.next=8,new Promise(function(t){return setTimeout(t)});case 8:this.$refs.textInput.focus(),this.$refs.textInput.selectionEnd=n.position;case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),handleParaphraseBox:function(){var t=u(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t){return setTimeout(t)});case 2:if(this.$refs.textInput.selectionStart===this.$refs.textInput.selectionEnd&&(this.cursorPosition=this.$refs.textInput.selectionStart),this.activeParaphrases){t.next=5;break}return t.abrupt("return");case 5:e=this.$refs.highlight[this.activeParaphrases[0].highlightIndex],n=e.getBoundingClientRect(),this.paraphrasesContainerStyle={},n.left<window.innerWidth/2?this.paraphrasesContainerStyle.left=n.left+"px":this.paraphrasesContainerStyle.right=window.innerWidth-n.right+"px",n.top<window.innerHeight/2?this.paraphrasesContainerStyle.top=n.bottom+"px":this.paraphrasesContainerStyle.bottom=window.innerHeight-n.top+"px";case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),analysis:function(){var t=this;this.paraphrases=[],this.paraphraseTable=[],this.inputTokens=[];var e=0;r.tokenize(this.inputText).forEach(function(n){var r=!1;if("助動詞"!==n.pos&&"助詞"!==n.pos)for(var i in o)for(var a in o[i])if(o[i][a].keywords.find(function(t){return-1!==t.indexOf(n.basic_form)})){r=!0;var s=p({},o[i][a],{text:n.surface_form,position:n.word_position-1,highlightIndex:e});t.paraphrases.push(s);for(var u=0;u<=s.text.length;u++){var c=n.word_position-1+u;void 0===t.paraphraseTable[c]&&(t.paraphraseTable[c]=[]),t.paraphraseTable[c].push(s)}}if(r)t.inputTokens.push({type:"highlight",text:n.surface_form,id:e}),e++;else for(var l in n.surface_form)" "==n.surface_form[l]?t.inputTokens.push({type:"space"}):"\n"==n.surface_form[l]?t.inputTokens.push({type:"line-break"}):t.inputTokens.push({type:"text",text:n.surface_form[l]})})},basicFormPronunciation:function(t){return r.tokenize(t.basic_form)[0].pronunciation},keyToNumber:function(t){var e=t.match(/^(Digit|Numpad)([\d])/);return e?e[2]:(e=t.match(/^Key([a-z])/i))?parseInt(e[1],36):void 0}}})}});
//# sourceMappingURL=app.a2f06ecd.js.map